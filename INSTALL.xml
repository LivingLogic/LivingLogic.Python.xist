<?xml version='1.0' encoding='iso-8859-1'?>
<section><title>Requirements</title>
<par>To use &xist; you need the following software packages:</par>
<olist>
<item><link href="http://www.python.org/">Python 2.4</link>,</item>
<item><link href="http://pyxml.sf.net/">The Python &xml; package</link> (at least version 0.8.4),</item>
<item><link href="root:core/index.html">ll-core</link> (0.2.1 or newer),</item>
<item><link href="root:url/index.html">ll-url</link> (0.11.4 or newer),</item>
<item><link href="root:ansistyle/index.html">ll-ansistyle</link>,</item>
<item>if you want to use automatic image size calculation: the
<link href="http://www.pythonware.com/products/pil/">Python Imaging Library</link>,</item>
<item>if you want to parse broken &html;: <link href="http://www.xmlsoft.org/">libxml2</link>,</item>
<item>if you want want to use the method <method>asText</method> to convert &html; to
plain text: <link href="http://w3m.browser.org/">w3m</link>,</item>
<item>and a C compiler supported by <app>distutils</app>, if you want
to install the source distribution.</item>
</olist>
</section>


<section><title>Installation</title>
<par><app>distutils</app> is used for installation, so it's rather simple.
Execute the following command:</par>
<prog>
python setup.py install
</prog>
<par>This will copy <filename>*.py</filename> files, compile <filename>*.c</filename>
files and install everything in the <dirname>site-packages</dirname>
directory as the <module>ll.xist</module> package. <app>distutils</app> might
complain about a missing <filename>__init__.py</filename>, but you can ignore
this: The main package init file (for the <module>ll</module> package) is
provided by <pyref module="ll">ll-core</pyref>.</par>

<par>If you're updating from a version older than 1.5, remove the old package
<module>xist</module> from your installation directory and remove the
<dirname>build</dirname> directory (if you're building from source).</par>

<par>If you're updating from a version older than 1.4, remove
the old module <module>xist.url</module> as this is no longer needed
and might collide with the new global module <module>ll.url</module>.</par>

<par>For Windows a binary distribution is provided. To install it,
double click it, and follow the instructions.</par>

<par>If you have difficulties installing this software, send a problem report
to Walter Dörwald (<email>walter@livinglogic.de</email>).</par>
</section>


<section><title>Character encoding</title>
<par>When you pass an 8bit string in the constructor
of an &xist; element, these strings have to
be converted to Unicode. &xist; assumes that these 8bit strings
are in the system default encoding, which normally is &ascii;.
If you want to change this you can put a script
named <filename>sitecustomize.py</filename> somewhere
in the Python path, with the following content:</par>
<prog>
import sys
sys.setdefaultencoding(<rep>"iso-8859-1"</rep>)
</prog>
<par>(or any other encoding name that you want to use
instead of <rep>"iso-8859-1"</rep>).</par>
<par>Starting with Python 2.3 you should instead define your
source code encoding in the first or second line of your script (see
<link href="http://www.python.org/peps/pep-0263.html">PEP 263</link>)
and use Unicode string constants only.</par>
</section>


<section><title>Display hook</title>
<par>&xist; provides several different display formats for &xml; trees
(this is extensible by implementing new presentation classes). Those display
formats are used in two <z>pretty printing</z> modes. One is used for the
result of <method>__repr__</method> calls and the other is used for
output of &xist; trees in the interactive shell. To activate the interactive
display, put something link the following in your Python startup script:</par>

<prog>
import ll
from ll.xist import presenters

ll.asdisplayhook(presenters.displayhook)
</prog>

<par>This hook uses the presenter object <lit>ll.xist.presenters.hookpresenter</lit>,
which you can modify or replace to customize the output of &xist; trees.</par>
</section>


<section><title>Syntax highlighting</title>
<par>If you want syntax highlighting in your &xist; tree
dumps and have an &ansi; color capable terminal,
set the environment variable <lit>XSC_REPRANSI</lit>
to <lit>1</lit> or <lit>2</lit> depending on whether
you have a light or dark background color. Setting <lit>XSC_REPRANSI</lit>
to <lit>0</lit> turns off syntax highlighting.</par>
</section>
